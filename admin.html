<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guild Boss Loot - Admin</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4 sm:p-6">

<!-- Header -->
<header class="flex flex-col sm:flex-row justify-between items-center mb-6 space-y-2 sm:space-y-0">
    <div class="flex justify-between w-full sm:w-auto">
        <button onclick="history.back()" class="bg-gray-500 text-white px-4 py-2 rounded shadow hover:bg-gray-600">Back</button>
        <button id="change-password-btn" class="bg-yellow-500 text-white px-4 py-2 rounded shadow hover:bg-yellow-600 ml-2">Change Password</button>
    </div>
    <h1 class="text-3xl font-bold text-indigo-700 text-center sm:text-left">Guild Boss Loot - Admin</h1>
</header>

<!-- Add Boss / Add Member Panel -->
<section class="border border-indigo-300 p-4 rounded-lg bg-white shadow mb-6">
    <h2 class="text-xl font-semibold mb-4 text-indigo-600">Manage Bosses & Members</h2>
    <div class="flex flex-col sm:flex-row sm:space-x-2 mb-3 space-y-2 sm:space-y-0">
        <input type="text" id="new-boss-name" placeholder="New Boss" class="border p-2 rounded flex-1 focus:outline-indigo-500">
        <button id="add-boss-btn" class="bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700">Add Boss</button>
    </div>
    <div class="flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0">
        <input type="text" id="new-member-name" placeholder="New Member" class="border p-2 rounded flex-1 focus:outline-indigo-500">
        <button id="add-member-btn" class="bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700">Add Member</button>
    </div>
</section>

<!-- Boss Loot Panel -->
<section class="border border-indigo-300 p-4 rounded-lg bg-white shadow mb-6">
    <h2 class="text-xl font-semibold mb-4 text-indigo-600">Boss Loot Panel</h2>

    <div class="flex flex-col sm:flex-row sm:space-x-2 mb-4 space-y-2 sm:space-y-0">
        <input type="text" id="loot-name-input" placeholder="Loot Name" class="border p-2 rounded flex-1 focus:outline-indigo-500">
        <input type="number" id="loot-price-input" placeholder="Price" class="border p-2 rounded w-full sm:w-28 focus:outline-indigo-500">
        <button id="add-loot-btn" class="bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700">Add Loot</button>
    </div>

    <div class="flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-3 space-y-2 sm:space-y-0">
        <button id="select-boss-btn" class="bg-indigo-600 text-white px-4 py-2 rounded shadow hover:bg-indigo-700">Select Boss</button>
        <span id="selected-boss" class="font-semibold">None</span>
    </div>

    <div class="mb-3">
        <button id="edit-participants-btn" class="bg-indigo-600 text-white px-4 py-2 rounded shadow hover:bg-indigo-700">Edit Participants</button>
        <ul id="selected-participants" class="ml-4 mt-2 list-disc"></ul>
    </div>

    <div id="loot-items-container" class="mb-4"></div>
    <button id="add-new-loot-entry-btn" class="bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700 w-full sm:w-auto">Add New Loot Entry</button>
</section>

<!-- Recorded Loot Entries -->
<section class="border border-indigo-300 p-4 rounded-lg bg-white shadow mb-6">
    <h2 class="text-xl font-semibold mb-4 text-indigo-600">Recorded Loot Entries</h2>
    <div id="loot-list"></div>
</section>

<!-- Modals -->
<div id="boss-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 overflow-auto p-4">
    <div class="bg-white p-6 rounded-lg shadow w-full sm:w-80 max-h-[80vh] overflow-y-auto">
        <h3 class="font-semibold text-lg mb-4">Select Boss</h3>
        <div id="modal-boss-list" class="mb-4 space-y-2"></div>
        <div class="flex justify-end space-x-2">
            <button id="save-boss-btn" class="bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700">Save</button>
            <button id="close-boss-btn" class="bg-gray-500 text-white px-4 py-2 rounded shadow hover:bg-gray-600">Close</button>
        </div>
    </div>
</div>

<div id="participant-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 overflow-auto p-4">
    <div class="bg-white p-6 rounded-lg shadow w-full sm:w-80 max-h-[80vh] overflow-y-auto">
        <h3 class="font-semibold text-lg mb-4">Select Participants</h3>
        <div id="modal-member-list" class="mb-4 space-y-2"></div>
        <div class="flex justify-end space-x-2">
            <button id="save-participants-btn" class="bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700">Save</button>
            <button id="close-participants-btn" class="bg-gray-500 text-white px-4 py-2 rounded shadow hover:bg-gray-600">Close</button>
        </div>
    </div>
</div>

<div id="edit-loot-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 overflow-auto p-4">
    <div class="bg-white p-6 rounded-lg shadow w-full sm:w-80 max-h-[80vh] overflow-y-auto">
        <h3 class="font-semibold text-lg mb-4">Edit Loot Price</h3>
        <div class="mb-3">Loot: <span id="edit-loot-name"></span></div>
        <input type="number" id="edit-loot-price-input" class="border p-2 rounded w-full mb-4 focus:outline-indigo-500">
        <div class="flex justify-end space-x-2">
            <button id="save-loot-price-btn" class="bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700">Save</button>
            <button id="close-loot-price-btn" class="bg-gray-500 text-white px-4 py-2 rounded shadow hover:bg-gray-600">Close</button>
        </div>
    </div>
</div>

<script type="module">
    import './admin.js';
</script>

</body>
</html>