<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GuildLoots Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-100">

  <!-- üîí Login Screen -->
  <div id="loginScreen" class="flex flex-col items-center justify-center h-screen space-y-4">
    <h1 class="text-3xl font-bold text-amber-400">GuildLoots Admin</h1>
    <p class="text-gray-400 text-sm">Enter admin password to continue</p>
    <input id="adminPassword" type="password" placeholder="Password" class="px-4 py-2 rounded bg-gray-800 text-gray-200 outline-none w-64 text-center">
    <button id="loginButton" class="px-6 py-2 bg-amber-500 hover:bg-amber-600 text-black rounded font-semibold transition">Login</button>
    <p id="loginError" class="text-red-400 text-sm hidden">Incorrect password.</p>
  </div>

  <!-- üß≠ Admin Dashboard (hidden until login) -->
  <div id="adminDashboard" class="hidden p-6">
    <h1 class="text-2xl font-bold text-amber-400 mb-4">‚öîÔ∏è GuildLoots Admin Panel</h1>

    <div class="mb-6 flex gap-3">
      <button id="addMemberBtn" class="bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded">Add Guild Member</button>
      <button id="addBossBtn" class="bg-indigo-600 hover:bg-indigo-700 px-4 py-2 rounded">Add Boss</button>
      <button id="updateEarningsBtn" class="bg-amber-600 hover:bg-amber-700 px-4 py-2 rounded">Update Weekly Earnings</button>
    </div>

    <div id="statusMessage" class="text-emerald-400 font-semibold mb-3"></div>

    <!-- Dashboard content -->
    <iframe src="view.html" class="w-full h-[75vh] rounded-lg border border-gray-700"></iframe>
  </div>

  <script type="module">
    // ================= PASSWORD LOGIN SYSTEM =================
    const loginScreen = document.getElementById('loginScreen');
    const adminDashboard = document.getElementById('adminDashboard');
    const loginButton = document.getElementById('loginButton');
    const loginError = document.getElementById('loginError');
    const adminPasswordInput = document.getElementById('adminPassword');

    // Set your password here üîë
    const ADMIN_PASSWORD = "guild2025";

    // Check if already logged in
    if (localStorage.getItem("guildAdminAccess") === "true") {
      loginScreen.classList.add("hidden");
      adminDashboard.classList.remove("hidden");
    }

    loginButton.addEventListener("click", () => {
      const enteredPassword = adminPasswordInput.value.trim();

      if (enteredPassword === ADMIN_PASSWORD) {
        localStorage.setItem("guildAdminAccess", "true");
        loginScreen.classList.add("hidden");
        adminDashboard.classList.remove("hidden");
        loginError.classList.add("hidden");
      } else {
        loginError.classList.remove("hidden");
      }
    });

    // Enter key trigger
    adminPasswordInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") loginButton.click();
    });

    // Logout support (optional)
    window.logoutAdmin = function () {
      localStorage.removeItem("guildAdminAccess");
      location.reload();
    };
  </script>
</body>
</html>